{% extends 'base.html' %}
{% load static %}

{% block title %}Pistes - BTP Platform{% endblock %}

{% block content %}
<div class="header">
    <div style="flex: 1;">
        <h1 class="header__title">Pistes</h1>
        <div class="header__subtitle">Gestion des leads et prospects</div>
    </div>
    <button class="btn btn--primary" id="add-piste-btn">
        <svg class="btn-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="12" y1="5" x2="12" y2="19"></line>
            <line x1="5" y1="12" x2="19" y2="12"></line>
        </svg>
        Ajouter une Piste
    </button>
</div>

<div class="card card--pad mb-3">
    <div class="flex flex-between align-center" style="gap: 12px;">
        <input type="text" class="input" id="search-input" placeholder="Rechercher..." style="flex: 1; max-width: 400px;">
        <select class="select" id="filter-status" style="width: 200px;">
            <option value="">Tous les statuts</option>
            <option value="Nouveau">Nouveau</option>
            <option value="Qualifié">Qualifié</option>
            <option value="Devis">Devis</option>
            <option value="Gagné">Gagné</option>
            <option value="Perdu">Perdu</option>
        </select>
    </div>
</div>

<div class="card">
    <table class="table">
        <thead>
            <tr>
                <th>Client</th>
                <th>Statut</th>
                <th>Source</th>
                <th>Montant Estimé</th>
                <th>Probabilité</th>
                <th>Date de Relance</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody id="pistes-table-body">
            <tr>
                <td colspan="7" class="text-center" style="padding: 40px; color: var(--muted);">
                    Aucune piste trouvée
                </td>
            </tr>
        </tbody>
    </table>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/pistes.js' %}"></script>
{% endblock %}
